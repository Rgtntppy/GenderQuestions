{"ast":null,"code":"import'src/Components/SelectGenderButton/SGButton.scss';import{useEffect,useCallback,useRef}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";const CustomButton=_ref=>{let{characterItem,clickData,showPopup}=_ref;const buttonRefs=useRef([]);useEffect(()=>{buttonRefs.current.forEach(button=>{if(button){const textLength=button.innerText.length;let fontSize=20;if(textLength>3){fontSize=18;}if(textLength>5){fontSize=14;}if(textLength>7){fontSize=10;}button.setAttribute('style',\"font-Size: \".concat(fontSize,\"px !important;\"));}});},[characterItem]);const handleClick=useCallback(event=>{const selectGender=event.currentTarget.dataset.select||'';console.log(selectGender+'がクリックされました');clickData(selectGender);},[]);return/*#__PURE__*/_jsx(\"table\",{className:\"selectTable\",children:/*#__PURE__*/_jsx(\"tbody\",{children:[0,1].map(rowIndex=>/*#__PURE__*/_jsx(\"tr\",{children:[0,1].map((colIndex,index)=>{// インデックスに対応する selectキーを動的に作成\nconst selectKeyIndex=rowIndex+colIndex*2+1;const selectKey=\"select\".concat(selectKeyIndex);const selectButton=characterItem.selects[selectKey];return/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"customButton\",onClick:handleClick,\"data-select\":selectButton,disabled:showPopup,ref:el=>buttonRefs.current[rowIndex*2+colIndex]=el,children:selectButton})},colIndex);})},rowIndex))})});};export default CustomButton;","map":{"version":3,"names":["useEffect","useCallback","useRef","jsx","_jsx","CustomButton","_ref","characterItem","clickData","showPopup","buttonRefs","current","forEach","button","textLength","innerText","length","fontSize","setAttribute","concat","handleClick","event","selectGender","currentTarget","dataset","select","console","log","className","children","map","rowIndex","colIndex","index","selectKeyIndex","selectKey","selectButton","selects","onClick","disabled","ref","el"],"sources":["/Users/itouhiroki/Desktop/GenderQuestions/src/Components/SelectGenderButton/SGButton.tsx"],"sourcesContent":["import 'src/Components/SelectGenderButton/SGButton.scss';\nimport { useEffect, useCallback, useRef, MouseEventHandler } from \"react\";\nimport { ClickData } from 'src/Components/SelectGenderButton/SGInterface';\n\nconst CustomButton: React.FC<ClickData> = ({ characterItem, clickData, showPopup }) => {\n    const buttonRefs = useRef<(HTMLButtonElement | null)[]>([]);\n\n    useEffect(() => {\n        buttonRefs.current.forEach(button => {\n            if (button) {\n                const textLength = button.innerText.length;\n                let fontSize = 20;\n\n                if (textLength > 3) {\n                    fontSize = 18;\n                }\n                if (textLength > 5) {\n                    fontSize = 14;\n                }\n                if (textLength > 7) {\n                    fontSize = 10;\n                }\n\n                button.setAttribute('style', `font-Size: ${fontSize}px !important;`);\n            }\n        });\n    }, [characterItem]);\n    \n    const handleClick: MouseEventHandler<HTMLButtonElement>  = useCallback ((event) => {\n        const selectGender = event.currentTarget.dataset.select || '';\n        console.log(selectGender+'がクリックされました');\n        clickData(selectGender);\n    },[]);\n    \n    return (\n        <table className='selectTable'>\n            <tbody>\n                {[0, 1].map(rowIndex => (\n                    <tr key={rowIndex}>\n                        {[0, 1].map((colIndex, index) => {\n                            // インデックスに対応する selectキーを動的に作成\n                            const selectKeyIndex = rowIndex + colIndex * 2 +1;\n                            const selectKey = `select${selectKeyIndex}` as keyof typeof characterItem.selects;\n                            const selectButton = characterItem.selects[selectKey];\n\n                            return (\n                                <td key={colIndex}>\n                                    <button\n                                        className='customButton'\n                                        onClick={handleClick}\n                                        data-select={selectButton}\n                                        disabled={showPopup}\n                                        ref={(el) => buttonRefs.current[rowIndex * 2 + colIndex] = el}\n                                    >\n                                        {selectButton}\n                                    </button>\n                                </td>\n                            );\n                        })}\n                    </tr>\n                ))}\n            </tbody>\n        </table>\n    );\n};\n\nexport default CustomButton;"],"mappings":"AAAA,MAAO,iDAAiD,CACxD,OAASA,SAAS,CAAEC,WAAW,CAAEC,MAAM,KAA2B,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAG1E,KAAM,CAAAC,YAAiC,CAAGC,IAAA,EAA6C,IAA5C,CAAEC,aAAa,CAAEC,SAAS,CAAEC,SAAU,CAAC,CAAAH,IAAA,CAC9E,KAAM,CAAAI,UAAU,CAAGR,MAAM,CAA+B,EAAE,CAAC,CAE3DF,SAAS,CAAC,IAAM,CACZU,UAAU,CAACC,OAAO,CAACC,OAAO,CAACC,MAAM,EAAI,CACjC,GAAIA,MAAM,CAAE,CACR,KAAM,CAAAC,UAAU,CAAGD,MAAM,CAACE,SAAS,CAACC,MAAM,CAC1C,GAAI,CAAAC,QAAQ,CAAG,EAAE,CAEjB,GAAIH,UAAU,CAAG,CAAC,CAAE,CAChBG,QAAQ,CAAG,EAAE,CACjB,CACA,GAAIH,UAAU,CAAG,CAAC,CAAE,CAChBG,QAAQ,CAAG,EAAE,CACjB,CACA,GAAIH,UAAU,CAAG,CAAC,CAAE,CAChBG,QAAQ,CAAG,EAAE,CACjB,CAEAJ,MAAM,CAACK,YAAY,CAAC,OAAO,eAAAC,MAAA,CAAgBF,QAAQ,kBAAgB,CAAC,CACxE,CACJ,CAAC,CAAC,CACN,CAAC,CAAE,CAACV,aAAa,CAAC,CAAC,CAEnB,KAAM,CAAAa,WAAiD,CAAInB,WAAW,CAAGoB,KAAK,EAAK,CAC/E,KAAM,CAAAC,YAAY,CAAGD,KAAK,CAACE,aAAa,CAACC,OAAO,CAACC,MAAM,EAAI,EAAE,CAC7DC,OAAO,CAACC,GAAG,CAACL,YAAY,CAAC,YAAY,CAAC,CACtCd,SAAS,CAACc,YAAY,CAAC,CAC3B,CAAC,CAAC,EAAE,CAAC,CAEL,mBACIlB,IAAA,UAAOwB,SAAS,CAAC,aAAa,CAAAC,QAAA,cAC1BzB,IAAA,UAAAyB,QAAA,CACK,CAAC,CAAC,CAAE,CAAC,CAAC,CAACC,GAAG,CAACC,QAAQ,eAChB3B,IAAA,OAAAyB,QAAA,CACK,CAAC,CAAC,CAAE,CAAC,CAAC,CAACC,GAAG,CAAC,CAACE,QAAQ,CAAEC,KAAK,GAAK,CAC7B;AACA,KAAM,CAAAC,cAAc,CAAGH,QAAQ,CAAGC,QAAQ,CAAG,CAAC,CAAE,CAAC,CACjD,KAAM,CAAAG,SAAS,UAAAhB,MAAA,CAAYe,cAAc,CAAwC,CACjF,KAAM,CAAAE,YAAY,CAAG7B,aAAa,CAAC8B,OAAO,CAACF,SAAS,CAAC,CAErD,mBACI/B,IAAA,OAAAyB,QAAA,cACIzB,IAAA,WACIwB,SAAS,CAAC,cAAc,CACxBU,OAAO,CAAElB,WAAY,CACrB,cAAagB,YAAa,CAC1BG,QAAQ,CAAE9B,SAAU,CACpB+B,GAAG,CAAGC,EAAE,EAAK/B,UAAU,CAACC,OAAO,CAACoB,QAAQ,CAAG,CAAC,CAAGC,QAAQ,CAAC,CAAGS,EAAG,CAAAZ,QAAA,CAE7DO,YAAY,CACT,CAAC,EATJJ,QAUL,CAAC,CAEb,CAAC,CAAC,EApBGD,QAqBL,CACP,CAAC,CACC,CAAC,CACL,CAAC,CAEhB,CAAC,CAED,cAAe,CAAA1B,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}