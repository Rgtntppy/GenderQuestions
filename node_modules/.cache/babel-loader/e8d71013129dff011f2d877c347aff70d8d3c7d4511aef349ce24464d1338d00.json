{"ast":null,"code":"import'src/Components/SelectGenderButton/SGButton.scss';import{useEffect,useCallback,useRef}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";const CustomButton=_ref=>{let{characterItem,clickData,showPopup}=_ref;const buttonRefs=useRef([]);useEffect(()=>{buttonRefs.current.forEach(button=>{if(button){const textLength=button.innerText.length;let fontSize=24;if(textLength>3){fontSize=18;}if(textLength>5){fontSize=15;}if(textLength>7){fontSize=12;}button.style.fontSize=\"\".concat(fontSize,\"px\");}});},[characterItem]);const handleClick=useCallback(event=>{const selectGender=event.currentTarget.dataset.select||'';console.log(selectGender+'がクリックされました');clickData(selectGender);},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"selectGrid\",children:[0,1,2,3].map(index=>{const selectKey=\"select\".concat(index+1);const selectButton=characterItem.selects[selectKey];return/*#__PURE__*/_jsx(\"button\",{className:\"customButton\",onClick:handleClick,\"data-select\":selectButton,disabled:showPopup,ref:el=>buttonRefs.current[index]=el,children:selectButton},index);})});};export default CustomButton;","map":{"version":3,"names":["useEffect","useCallback","useRef","jsx","_jsx","CustomButton","_ref","characterItem","clickData","showPopup","buttonRefs","current","forEach","button","textLength","innerText","length","fontSize","style","concat","handleClick","event","selectGender","currentTarget","dataset","select","console","log","className","children","map","index","selectKey","selectButton","selects","onClick","disabled","ref","el"],"sources":["/Users/itouhiroki/Desktop/GenderQuestions/src/Components/SelectGenderButton/SGButton.tsx"],"sourcesContent":["import 'src/Components/SelectGenderButton/SGButton.scss';\nimport { useEffect, useCallback, useRef, MouseEventHandler } from \"react\";\nimport { ClickData } from 'src/Components/SelectGenderButton/SGInterface';\n\nconst CustomButton: React.FC<ClickData> = ({ characterItem, clickData, showPopup }) => {\n    const buttonRefs = useRef<(HTMLButtonElement | null)[]>([]);\n\n    useEffect(() => {\n        buttonRefs.current.forEach(button => {\n            if (button) {\n                const textLength = button.innerText.length;\n                let fontSize = 24;\n\n                if (textLength > 3) {\n                    fontSize = 18;\n                }\n                if (textLength > 5) {\n                    fontSize = 15;\n                }\n                if (textLength > 7) {\n                    fontSize = 12;\n                }\n\n                button.style.fontSize = `${fontSize}px`;\n            }\n        });\n    }, [characterItem]);\n    \n    const handleClick: MouseEventHandler<HTMLButtonElement>  = useCallback ((event) => {\n        const selectGender = event.currentTarget.dataset.select || '';\n        console.log(selectGender+'がクリックされました');\n        clickData(selectGender);\n    },[]);\n    \n    return (\n        <div className='selectGrid'>\n            {[0, 1, 2, 3].map(index => {\n                const selectKey = `select${index + 1}` as keyof typeof characterItem.selects;\n                const selectButton = characterItem.selects[selectKey];\n\n                return (\n                    <button\n                        className='customButton'\n                        key={index}\n                        onClick={handleClick}\n                        data-select={selectButton}\n                        disabled={showPopup}\n                        ref={(el) => buttonRefs.current[index] = el}\n                    >\n                        {selectButton}\n                    </button>\n                );\n            })}\n        </div>\n    );\n};\n\nexport default CustomButton;"],"mappings":"AAAA,MAAO,iDAAiD,CACxD,OAASA,SAAS,CAAEC,WAAW,CAAEC,MAAM,KAA2B,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAG1E,KAAM,CAAAC,YAAiC,CAAGC,IAAA,EAA6C,IAA5C,CAAEC,aAAa,CAAEC,SAAS,CAAEC,SAAU,CAAC,CAAAH,IAAA,CAC9E,KAAM,CAAAI,UAAU,CAAGR,MAAM,CAA+B,EAAE,CAAC,CAE3DF,SAAS,CAAC,IAAM,CACZU,UAAU,CAACC,OAAO,CAACC,OAAO,CAACC,MAAM,EAAI,CACjC,GAAIA,MAAM,CAAE,CACR,KAAM,CAAAC,UAAU,CAAGD,MAAM,CAACE,SAAS,CAACC,MAAM,CAC1C,GAAI,CAAAC,QAAQ,CAAG,EAAE,CAEjB,GAAIH,UAAU,CAAG,CAAC,CAAE,CAChBG,QAAQ,CAAG,EAAE,CACjB,CACA,GAAIH,UAAU,CAAG,CAAC,CAAE,CAChBG,QAAQ,CAAG,EAAE,CACjB,CACA,GAAIH,UAAU,CAAG,CAAC,CAAE,CAChBG,QAAQ,CAAG,EAAE,CACjB,CAEAJ,MAAM,CAACK,KAAK,CAACD,QAAQ,IAAAE,MAAA,CAAMF,QAAQ,MAAI,CAC3C,CACJ,CAAC,CAAC,CACN,CAAC,CAAE,CAACV,aAAa,CAAC,CAAC,CAEnB,KAAM,CAAAa,WAAiD,CAAInB,WAAW,CAAGoB,KAAK,EAAK,CAC/E,KAAM,CAAAC,YAAY,CAAGD,KAAK,CAACE,aAAa,CAACC,OAAO,CAACC,MAAM,EAAI,EAAE,CAC7DC,OAAO,CAACC,GAAG,CAACL,YAAY,CAAC,YAAY,CAAC,CACtCd,SAAS,CAACc,YAAY,CAAC,CAC3B,CAAC,CAAC,EAAE,CAAC,CAEL,mBACIlB,IAAA,QAAKwB,SAAS,CAAC,YAAY,CAAAC,QAAA,CACtB,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CAACC,GAAG,CAACC,KAAK,EAAI,CACvB,KAAM,CAAAC,SAAS,UAAAb,MAAA,CAAYY,KAAK,CAAG,CAAC,CAAwC,CAC5E,KAAM,CAAAE,YAAY,CAAG1B,aAAa,CAAC2B,OAAO,CAACF,SAAS,CAAC,CAErD,mBACI5B,IAAA,WACIwB,SAAS,CAAC,cAAc,CAExBO,OAAO,CAAEf,WAAY,CACrB,cAAaa,YAAa,CAC1BG,QAAQ,CAAE3B,SAAU,CACpB4B,GAAG,CAAGC,EAAE,EAAK5B,UAAU,CAACC,OAAO,CAACoB,KAAK,CAAC,CAAGO,EAAG,CAAAT,QAAA,CAE3CI,YAAY,EANRF,KAOD,CAAC,CAEjB,CAAC,CAAC,CACD,CAAC,CAEd,CAAC,CAED,cAAe,CAAA1B,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}